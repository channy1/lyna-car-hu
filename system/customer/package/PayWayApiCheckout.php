<?php/*|--------------------------------------------------------------------------| ABA PayWay API URL|--------------------------------------------------------------------------| API URL that is provided by PayWay must be required in your post form|*/define('ABA_PAYWAY_API_URL', 'https://payway-staging.ababank.com/api/pwlynagarage/');/*|--------------------------------------------------------------------------| ABA PayWay API KEY|--------------------------------------------------------------------------| API KEY that is generated and provided by PayWay must be required in your post form|*/// define('ABA_PAYWAY_API_KEY', '93053e902c57c39299d4bd1b67787aa7');const ABA_PAYWAY_API_KEY='93053e902c57c39299d4bd1b67787aa7'; //production/*|--------------------------------------------------------------------------| ABA PayWay Merchant ID|--------------------------------------------------------------------------| Merchant ID that is generated and provided by PayWay must be required in your post form|*/define('ABA_PAYWAY_MERCHANT_ID', 'lynagarage');class PayWayApiCheckout {	/**	 * Returns the getHash	 * For PayWay security, you must follow the way of encryption for hash.	 *	 * @param string $transactionId	 * @param string $amount	 *	 * @return string getHash	 */	public static function getHash($transactionId, $amount) {		$hash = base64_encode(hash_hmac('sha512', ABA_PAYWAY_MERCHANT_ID . $transactionId . $amount, ABA_PAYWAY_API_KEY, true));		return $hash;	}	/**	 * Returns the getApiUrl	 *	 * @return string getApiUrl	 */	public static function getApiUrl() {		return ABA_PAYWAY_API_URL;	}	public static function getApiKey() {                return ABA_PAYWAY_API_KEY;        }     public static function getMerchantId() {                return ABA_PAYWAY_MERCHANT_ID;      }	public static function kemun()	{		echo "kemun torn";	}	public static function checkTransaction($url, $merchantId, $tranId, $key)	{	 $hash = base64_encode(hash_hmac('sha512', $merchantId . $tranId, $key, true));	 $postfields = array(	  'tran_id' => $tranId,	  'hash' => $hash	 );	 $ch = curl_init();	 curl_setopt($ch, CURLOPT_URL, $url);	 curl_setopt($ch, CURLOPT_PROXY, null);	 curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);	 curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);	 curl_setopt($ch, CURLOPT_POST, 1);	 curl_setopt($ch, CURLOPT_POSTFIELDS, $postfields);	 curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); // On dev server only!	 $result = curl_exec($ch);//Result Json	 $output = json_decode($result, true);//Result Array	 return $result;	}}